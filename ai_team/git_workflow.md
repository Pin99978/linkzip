# Git 工作流程與案例學習

這份文件旨在記錄我們在 LinkZip 專案中，遇到的 Git 操作場景、解決方案與最佳實踐，作為團隊的知識庫。

---

## 案例一：修正混雜的提交 (Fixing a Mixed Commit)

### 1. 問題場景

我們在開發過程中，不小心將兩個完全不相關的功能（「架構升級：引入 Docker Compose」和「功能開發：優化 UI」）合併在同一個 commit 中提交了。這使得 Git 的歷史紀錄變得模糊不清，不利於未來追蹤程式碼變更或進行問題排查。

### 2. 我們的目標

將這一個大而混雜的 commit，拆分成兩個小而專一的 commit，分別對應「架構升級」和「UI 優化」。

### 3. 使用的工具：`git reset --soft HEAD~1`

`git reset` 是一個強大的指令，用於「重置」當前 `HEAD` 的狀態。它有多種模式，我們這次選用的是 `--soft` 模式。

*   **`git reset --soft HEAD~1` 的作用**：
    *   `HEAD~1`：代表「目前最新 commit 的前一個 commit」。
    *   `--soft`：這是最「溫柔」的模式。它會將 `HEAD` 指標指回前一個 commit，**但完全不會改動「暫存區 (Staging Area)」和「工作目錄 (Working Directory)」的內容**。

*   **結果**：執行這個指令後，上一次的 commit 會被「撤銷」，但那次 commit 的所有變更，都會被完整地保留在「暫存區」中，就像是我們剛剛執行完 `git add .` 一樣，等待被重新提交。

### 4. 我們的操作流程

1.  **撤銷 Commit**：執行 `git reset --soft HEAD~1`，讓時光倒流一次 commit，但保留所有變更在暫存區。
2.  **分離變更**：執行 `git status`，會看到所有檔案都在暫存區。我們使用 `git restore --staged <檔案名>`，先將「UI 優化」相關的檔案（例如 `App.js`, `App.css` 等）從暫存區中移出，讓它們回到「工作目錄」。
3.  **第一次提交 (架構)**：此時，暫存區中只剩下「架構升級」相關的檔案。我們使用 `git commit`，撰寫一個專注於架構升級的 message 並提交。
4.  **第二次提交 (UI)**：執行 `git add .`，將剛才被移出暫存區的「UI 優化」相關檔案，重新加到暫存區。
5.  **完成**：使用 `git commit`，撰寫一個專注於 UI 優化的 message 並提交。最後，用 `git log -n 2` 檢查，就會看到兩個乾淨、獨立的 commit。
