# QA 工作日誌

### **日期: 2025-09-28**

**工作項目：**

1.  **建立測試環境**
    *   **內容**：安裝了 `pytest` 和 `httpx` 兩個核心測試函式庫。

2.  **撰寫 API 測試案例**
    *   **內容**：在 `tests/test_main.py` 中，針對後端的三個 API 端點，編寫了 6 個核心的測試案例，涵蓋了主要的成功與失敗路徑。
    *   **策略**：採用了資料庫隔離策略，透過覆蓋 FastAPI 的 `get_db` 依賴，為測試使用了獨立的記憶體資料庫，確保了測試的穩定性和可重複性。

3.  **除錯測試執行環境**
    *   **問題 1**：首次執行 `pytest` 時，出現 `ModuleNotFoundError: No module named 'src'`。
    *   **修正 1**：在專案根目錄建立了 `pytest.ini` 檔案，並加入 `pythonpath = .` 設定，讓 `pytest` 能正確找到 `src` 原始碼目錄。
    *   **問題 2**：測試報告 `TypeError`，指出 `allow_redirects` 是無效參數。
    *   **修正 2**：修正了測試程式碼，將錯誤的 `allow_redirects` 參數改為 `TestClient` 正確支援的 `follow_redirects`。
